<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.offcn.dao.ProductMapper">
    <resultMap id="productResult" type="com.offcn.bean.Product">
        <id column="product_id" property="productId"></id>
        <result column="product_name" property="productName"></result>
        <result column="product_sale" property="productSale"></result>
        <result column="product_price" property="productPrice"></result>
    </resultMap>
    <select id="findProductByCondition" resultMap="productResult">

        select  product_id,product_name,product_sale,product_price from  product <where>
        <if test="productName!=null">
            product_name like concat( '%',#{productName},'%')
        </if>

    </where>
        <if test="'SALE'.equals(condition)">
            order by product_sale
        </if>
        <if test="'PRICE'.equals(condition)">
            order by product_price
        </if>
    </select>
</mapper>